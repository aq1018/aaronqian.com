/* Tailwind v4 entry + plugin */
@import 'tailwindcss';
@plugin "@tailwindcss/typography";

/* Enable `.dark` class variant for Tailwind v4 */
@custom-variant dark (&:where(.dark, .dark *));

/* -----------------------------
   FONT FACE DECLARATIONS
   ----------------------------- */
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 100 900;
  font-display: swap;
  src: url('/fonts/inter-latin-wght-normal.woff2') format('woff2');
}

@font-face {
  font-family: 'JetBrains Mono';
  font-style: normal;
  font-weight: 100 900;
  font-display: swap;
  src: url('/fonts/jetbrains-mono-latin-wght-normal.woff2') format('woff2');
}

/* -----------------------------
   THEME TOKENS (GLOBAL)
   ----------------------------- */
@theme {
  /* Color Palettes (OKLCH) */
  /* Primary: Cyan */
  --color-primary-50: oklch(0.97 0.02 210);
  --color-primary-100: oklch(0.94 0.05 210);
  --color-primary-200: oklch(0.89 0.09 210);
  --color-primary-300: oklch(0.84 0.13 210);
  --color-primary-400: oklch(0.79 0.15 210);
  --color-primary-500: oklch(0.74 0.17 210);
  --color-primary-600: oklch(0.64 0.15 210);
  --color-primary-700: oklch(0.54 0.13 210);
  --color-primary-800: oklch(0.44 0.1 210);
  --color-primary-900: oklch(0.34 0.07 210);
  --color-primary-950: oklch(0.24 0.04 210);

  /* Accent: Harvest Gold */
  --color-accent-50: oklch(0.97 0.02 85);
  --color-accent-100: oklch(0.94 0.05 85);
  --color-accent-200: oklch(0.89 0.09 85);
  --color-accent-300: oklch(0.84 0.13 85);
  --color-accent-400: oklch(0.79 0.15 85);
  --color-accent-500: oklch(0.74 0.17 85);
  --color-accent-600: oklch(0.64 0.15 85);
  --color-accent-700: oklch(0.54 0.13 85);
  --color-accent-800: oklch(0.44 0.1 85);
  --color-accent-900: oklch(0.34 0.07 85);
  --color-accent-950: oklch(0.24 0.04 85);

  /* Grays (warm-tinted for softer light mode) */
  --color-gray-50: oklch(0.99 0.015 60);
  --color-gray-100: oklch(0.96 0.015 60);
  --color-gray-200: oklch(0.9 0.015 60);
  --color-gray-300: oklch(0.83 0.015 60);
  --color-gray-400: oklch(0.64 0.015 60);
  --color-gray-500: oklch(0.49 0.015 60);
  --color-gray-600: oklch(0.38 0.015 60);
  --color-gray-700: oklch(0.28 0.015 60);
  --color-gray-800: oklch(0.2 0.015 60);
  --color-gray-900: oklch(0.14 0.015 60);
  --color-gray-950: oklch(0.08 0.015 60);

  /* Fonts */
  --font-sans: 'Inter', ui-sans-serif, system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', Menlo, Monaco, 'Courier New', monospace;

  /* Z-index utilities for Tailwind v4 */
  --z-index-dropdown: 50;

  /* -----------------------------
     Semantic tokens (LIGHT defaults)
     These map to Tailwind classes:
     bg-surface, text-fg, border-border, text-muted, text-link, etc.
     ----------------------------- */
  --color-surface: var(--color-gray-100);
  --color-bg: var(--color-surface); /* Alias for backward compatibility */
  --color-fg: var(--color-gray-900);
  --color-border: var(--color-gray-200);
  --color-muted: var(--color-gray-500); /* Improved contrast from gray-600 */
  --color-link: var(--color-primary-500);
  --color-link-hover: var(--color-primary-400);
  --color-highlight: var(--color-primary-100);

  /* Primary alias for convenience (bg-primary / text-primary) */
  --color-primary: var(--color-primary-500);
  --color-primary-hover: var(--color-primary-400);

  /* Accent alias for convenience (bg-accent / text-accent) */
  --color-accent: var(--color-accent-600);
  --color-accent-hover: var(--color-accent-500);
}

/* -----------------------------
   THEME OVERRIDES (DARK)
   Keep overrides in the theme layer for correct order.
   ----------------------------- */
@layer theme {
  .dark {
    --color-surface: var(--color-gray-950);
    --color-fg: var(--color-gray-50);
    --color-border: var(--color-gray-800);
    --color-muted: var(--color-gray-200); /* Improved contrast from gray-300 */
    --color-link: var(--color-primary-400);
    --color-link-hover: var(--color-primary-300);
    --color-highlight: var(--color-primary-900);

    /* Primary remains cyan in dark mode */
    --color-primary: var(--color-primary-400);
    --color-primary-hover: var(--color-primary-300);

    /* Accent remains harvest gold in dark mode */
    --color-accent: var(--color-accent-400);
    --color-accent-hover: var(--color-accent-300);
  }
}

/* -----------------------------
   Global transitions (optional)
   ----------------------------- */
html {
  scroll-behavior: smooth;
  transition:
    background-color 300ms ease-in-out,
    color 300ms ease-in-out;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

*,
*::before,
*::after {
  transition:
    background-color 300ms ease-in-out,
    color 300ms ease-in-out,
    border-color 300ms ease-in-out;
}
