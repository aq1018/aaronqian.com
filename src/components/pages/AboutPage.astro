---
import { getEntry } from 'astro:content'

import PrinciplesList from '@/components/features/PrinciplesList.astro'
import SocialsBar from '@/components/features/SocialsBar.astro'
import Container from '@/components/primitives/Container.astro'
import Heading from '@/components/primitives/Heading.astro'
import Prose from '@/components/primitives/Prose.astro'
import Stack from '@/components/primitives/Stack.astro'
import Surface from '@/components/primitives/Surface.astro'
import HeroContent from '../patterns/HeroContent.astro'

// Fetch all data
const aboutEntry = await getEntry('about', 'main')
if (aboutEntry == null) {
  throw new Error('About entry not found')
}

const { data } = aboutEntry
const { Content } = await aboutEntry.render()
---

<Surface padY="md">
  <Container width="narrow" class="text-center">
    <Stack space="md" align="center">
      <HeroContent
        eyebrow="ABOUT"
        title={data.title}
        description={data.description}
        microLine={data.microLine}
      />
      <SocialsBar />
    </Stack>
  </Container>
</Surface>

<Surface padY="md">
  <Container width="narrow">
    <Stack space="md">
      <Heading as="h2" size="h2">About</Heading>
      <Prose>
        <Content />
      </Prose>
    </Stack>
  </Container>
</Surface>

<Surface padY="md">
  <Container width="narrow">
    <Stack space="md">
      <Heading as="h2" size="h2">Principles</Heading>
      <Prose> These are the beliefs I hold dear â€” compass in work and in life. </Prose>
      <PrinciplesList />
    </Stack>
  </Container>
</Surface>
