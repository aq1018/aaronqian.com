---
import type { CollectionEntry } from 'astro:content'

import BlogList from '@/components/features/BlogList.astro'
import EngineeringGrid from '@/components/features/EngineeringGrid.astro'
import HeroContent from '@/components/patterns/HeroContent.astro'
import Container from '@/components/primitives/Container.astro'
import Overlay from '@/components/primitives/Overlay.astro'
import Surface from '@/components/primitives/Surface.astro'

export interface Props {
  posts: CollectionEntry<'blog'>[]
}

const { posts } = Astro.props
---

<Surface>
  <EngineeringGrid
    slot="background"
    spacing="lg"
    corners={{ topLeft: 'BLOG', bottomRight: 'LAB NOTES' }}
    showCorners={{ topLeft: true, topRight: false, bottomLeft: false, bottomRight: true }}
  />

  <Overlay slot="background" preset="soft" />
  <HeroContent
    eyebrow="BLOG"
    title="Notes from the Lab"
    description="Software engineering insights, experiments, and the occasional bug that became a feature."
    microLine="Updated irregularly. Mostly coherent."
  />
</Surface>

<Surface>
  <Container>
    <BlogList
      {posts}
      footer="New posts whenever inspiration strikes. Or when the coffee kicks in."
    />
  </Container>
</Surface>
