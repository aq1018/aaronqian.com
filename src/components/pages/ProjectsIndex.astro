---
import type { CollectionEntry } from 'astro:content'

import CuttingMat from '@/components/features/CuttingMat.astro'
import ProjectList from '@/components/features/ProjectList.astro'
import HeroContent from '@/components/patterns/HeroContent.astro'
import Container from '@/components/primitives/Container.astro'
import Overlay from '@/components/primitives/Overlay.astro'
import Surface from '@/components/primitives/Surface.astro'

export interface Props {
  projects: Array<CollectionEntry<'projects'>>
}

const { projects } = Astro.props
---

<Surface>
  <div slot="background" class="absolute bottom-0 left-1/2 inline-block -translate-x-1/2">
    <CuttingMat />
  </div>

  <Overlay slot="background" preset="radial-fade" />
  <Container>
    <HeroContent
      eyebrow="PROJECT ARCHIVE"
      title="Projects / Lab Notes"
      description="My digital workshop — half experiments, half excuses to learn new tools."
      microLine="⚠️ Some projects are still in beta. Including me."
    />
  </Container>
</Surface>

<Surface>
  <Container>
    <ProjectList {projects} footer="Updates monthly. Expect context switches." />
  </Container>
</Surface>
