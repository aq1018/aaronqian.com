---
// Hero Section - Tech Lab meets Meditation Space
import DigitalAnalyzer from '@/components/features/DigitalAnalyzer.astro'
import DigitalAnalyzerBuffer from '@/components/features/DigitalAnalyzerBuffer.astro'
import DigitalAnalyzerDecoderToggle from '@/components/features/DigitalAnalyzerDecoderToggle.astro'
import HeroContent from '@/components/patterns/HeroContent.astro'
import Button from '@/components/primitives/Button.astro'
import ButtonLink from '@/components/primitives/ButtonLink.astro'
import Collapsible from '@/components/primitives/Collapsible.astro'
import Icon from '@/components/primitives/Icon.astro'
import Kbd from '@/components/primitives/Kbd.astro'
import Overlay from '@/components/primitives/Overlay.astro'
import Stack from '@/components/primitives/Stack.astro'
import Surface from '@/components/primitives/Surface.astro'
import Text from '@/components/primitives/Text.astro'
---

<Surface padY="none" class="flex min-h-[85vh] items-center justify-center">
  <DigitalAnalyzer name="hero-display" slot="background" />
  <Overlay slot="background" preset="radial-fade" />

  <HeroContent
    eyebrow="AARON QIAN"
    description="Welcome to my lab: caffeine-fueled commits, circuit boards, and questionable 3D prints."
    centered
  >
    <Fragment slot="title">
      <Stack direction="column" direction-xl="row" align="center" justify="center" space="xs">
        <span>Input coffee</span>

        <DigitalAnalyzerDecoderToggle
          target="secret-message"
          keyboardKey="k"
          keyboardModifier="cmd|ctrl"
        >
          <Button variant="link" color="primary" aria-label="Toggle secret message" type="button">
            <Icon name="heroicons:bolt-solid" size="xl" />
          </Button>
        </DigitalAnalyzerDecoderToggle>

        <span>Output code</span>
      </Stack>
    </Fragment>

    <Collapsible data-collapsible-id="secret-message">
      <Stack align="center" justify="center" space="xs">
        <Text
          size="body"
          color="secondary"
          align="center"
          preset="note"
          family="mono"
          aria-live="polite"
          aria-atomic="true"
        >
          <DigitalAnalyzerBuffer target="hero-display" type="ascii" />
        </Text>

        <Text
          size="small"
          align="center"
          color="muted"
          preset="note"
          family="mono"
          aria-live="polite"
          aria-atomic="false"
        >
          <DigitalAnalyzerBuffer target="hero-display" type="binary" />
        </Text>
      </Stack>
    </Collapsible>

    <Stack direction="row" align="center" justify="center" space="xl">
      <ButtonLink href="/blog" variant="solid" color="primary" size="lg">
        <span>Read My Notes →</span>
      </ButtonLink>

      <ButtonLink
        href="https://launchpath.tech"
        color="accent"
        variant="outline"
        size="lg"
        external
        aria-label="Open LaunchPath (new tab)"
      >
        <span>LaunchPath →</span>
      </ButtonLink>
    </Stack>

    <Fragment slot="microLine">
      <Stack align="center" justify="center" space="none">
        <p>Safety goggles recommended. Coffee mandatory.</p>

        <p>
          Decoder controls: Click/Tap ⚡ or press
          <Kbd keys="k" modifier="cmd|ctrl" color="neutral" size="xs" />
          to toggle.
        </p>
      </Stack>
    </Fragment>
  </HeroContent>
</Surface>
