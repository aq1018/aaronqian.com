---
/**
 * ProjectListItem - Individual project item in the list
 * Grid-based layout matching column headers
 */
import type { CollectionEntry } from 'astro:content'

import Grid from '@/components/primitives/Grid.astro'
import Sheet from '@/components/primitives/Sheet.astro'
import StatusBadge from '@/components/primitives/StatusBadge.astro'
import Text from '@/components/primitives/Text.astro'

export interface Props {
  project: CollectionEntry<'projects'>
}

const { project } = Astro.props
const projectUrl = `/projects/${project.id.replace(/\/index(\.md)?$/, '')}`
---

<li class="list-none">
  <Sheet
    as="a"
    href={projectUrl}
    variant="bar"
    color="primary"
    padding="sm"
    hover
    class="block no-underline hover:no-underline"
  >
    <Grid spacing="md">
      <Grid size={12} size-md={4}>
        <span class="font-semibold text-link">
          {project.data.title}
        </span>
      </Grid>

      <Grid size={12} size-md={2} class="justify-self-start md:justify-self-end">
        <StatusBadge status={project.data.status} size="md" />
      </Grid>

      <Grid size={12} size-md={6}>
        <div>
          <Text class="mb-2 leading-relaxed">{project.data.description}</Text>
          <Text size="micro" color="muted" class="italic">
            {project.data.aside}
          </Text>
        </div>
      </Grid>
    </Grid>
  </Sheet>
</li>
